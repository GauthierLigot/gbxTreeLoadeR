% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/read_tomst.R
\name{read_tomst_dendro}
\alias{read_tomst_dendro}
\title{Read and preprocess a TOMST dendrometer CSV export}
\usage{
read_tomst_dendro(nameFile, dendrometer, ts_start, ts_end)
}
\arguments{
\item{nameFile}{character(1). Path to the TOMST CSV export. Expected columns:
\code{V2} (timestamp as "YYYY.MM.DD" or "YYYY.MM.DD HH:MM"), \code{V4} (temperature),
\code{V7} (span).}

\item{dendrometer}{character(1). Identifier for the dendrometer; added as
a factor column \code{series}.}

\item{ts_start, ts_end}{character(1) or POSIXct. Start and end of the time
selection. If character, they are parsed in the same timezone as the file
(\code{UTC} by default).}
}
\value{
A \code{data.frame} with columns:
\itemize{
\item \code{ts}   (\code{POSIXct}): timestamp (UTC)
\item \code{date} (\code{Date}): date (UTC)
\item \code{span} (\code{numeric}): raw span (\code{V7})
\item \code{value}(\code{numeric}): span zeroed to first value within window
\item \code{temp} (\code{numeric}): temperature (\code{V4})
\item \code{series} (\code{factor}): factor with level equal to \code{dendrometer}
}
}
\description{
Reads a semicolon-delimited TOMST dendrometer file (no header), parses the
timestamp in UTC, filters the time window, computes the diameter variation
relative to the first span in the window, and returns a tidy data frame.
}
\details{
The function accepts dates with or without time; dates without time are set
to 00:00. Timezone is assumed to be \code{"UTC"} for both parsing and filtering.
Rows with \code{span == 0} trigger a warning. If no rows are within the selected
window, an empty data frame with the expected columns is returned.
}
\examples{
\dontrun{
df <- read_tomst_dendro("data/TMS_xxx.csv", dendrometer = "D1",
                        ts_start = "2023-05-01 00:00",
                        ts_end   = "2023-05-31 23:59")
}

}
