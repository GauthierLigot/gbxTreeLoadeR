% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_db.R
\name{get_db}
\alias{get_db}
\title{Import All Tables from the Database (optionally save to disk)}
\usage{
get_db(con = NA, save = F, dir)
}
\arguments{
\item{con}{A live \code{DBIConnection}. If missing, a connection is created with
\code{get_dendropulse()}.}

\item{save}{Logical; if \code{TRUE}, the imported database (a list) is saved
to an \code{.RData} file on disk. Default: \code{FALSE}.}

\item{dir}{Character path to an \strong{existing, writable directory} where
the \code{.RData} file will be saved (required only if \code{save = TRUE}).}
}
\value{
A named list where each element is a data.frame or \code{sf} object
corresponding to one table.
}
\description{
Retrieves all relevant tables from a database connection using
\code{get_tablelist()} and \code{get_table()}, returning them in a named list.
Optionally saves the resulting list as an \code{.RData} file when \code{save = TRUE}.
}
\details{
If \code{con} is missing, a default connection is created via \code{get_dendropulse()}.
\itemize{
\item The list of tables is obtained via \code{get_tablelist(con)}.
\item Each table is fetched with \code{get_table(con, tablename)}.
\item When \code{save = TRUE}, the function verifies that \code{dir} exists and the
process has write permissions; it then saves the list as
\code{Rdatabase_YYYYmmdd_HHMMSS.RData} using \code{base::save()}.
\item The function does \strong{not} disconnect \code{con} (caller retains control).
}
}
\examples{
\dontrun{
con <- get_dendropulse()
db <- get_db(con)

# Save to an existing directory
db <- get_db(con, save = TRUE, dir = "/path/to/existing/folder")
}

}
\seealso{
\code{\link[=get_tablelist]{get_tablelist()}}, \code{\link[=get_table]{get_table()}}, \code{\link[=get_dendropulse]{get_dendropulse()}}
}
